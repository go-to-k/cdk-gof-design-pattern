<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="816px" height="602px" viewBox="-0.5 -0.5 816 602" content="&lt;mxfile&gt;&lt;diagram id=&quot;9KW1ADvCEIuN-hiICIac&quot; name=&quot;cdk&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <rect x="117" y="2" width="70" height="30" fill="#ffff88" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 118px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                独自
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="152" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    独自
                </text>
            </switch>
        </g>
        <rect x="27" y="2" width="70" height="30" fill="#cce5ff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 28px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                CDK提供
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="62" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    CDK提供
                </text>
            </switch>
        </g>
        <path d="M 284 365.5 L 524.63 365.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 529.88 365.5 L 522.88 369 L 524.63 365.5 L 522.88 362 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 87 357 L 87 337 L 284 337 L 284 357" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 87 357 L 87 394 L 284 394 L 284 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 87 357 L 284 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="185" y="354.5">
                BucketVersioningChecker
            </text>
        </g>
        <path d="M 87 361 L 284 361" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 372px; margin-left: 93px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="93" y="384" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 185.5 337 L 185.5 275.62" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 185.5 262.62 L 192 275.62 L 179 275.62 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 110.5 227.5 L 110.5 204.5 L 260.5 204.5 L 260.5 227.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 110.5 227.5 L 110.5 261.5 L 260.5 261.5 L 260.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 110.5 227.5 L 260.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="185" y="222">
                IAspect
            </text>
        </g>
        <path d="M 110.5 231.5 L 260.5 231.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 243px; margin-left: 117px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <i>
                                    + visit(node: IConstruct)
                                </i>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="117" y="255" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruc...
                </text>
            </switch>
        </g>
        <path d="M 531 368.5 L 531 345.5 L 681 345.5 L 681 368.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 368.5 L 531 385.5 L 681 385.5 L 681 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 368.5 L 681 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="605.5" y="363">
                Bucket
            </text>
        </g>
        <path d="M 531 372.5 L 681 372.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 231 L 531 208 L 681 208 L 681 231" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 231 L 531 258 L 681 258 L 681 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 231 L 681 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="605.5" y="225.5">
                IConstruct
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 238px; margin-left: 537px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="537" y="250" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 531 254 L 681 254" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 606 345.5 L 606 272.12" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 606 259.12 L 612.5 272.12 L 599.5 272.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 179.74 424 L 182.69 394" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="0" y="424" width="351" height="86" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 349px; height: 1px; padding-top: 467px; margin-left: 2px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはないが、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞っていて、本質的にはVisitor概念と同義。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="471" fill="#000000" font-family="Helvetica" font-size="12px">
                    引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはないが、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞っていて、本質的にはVisitor概念と同義。
                </text>
            </switch>
        </g>
        <path d="M 601.22 404 L 603.52 385.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="363" y="404" width="452" height="197" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 450px; height: 1px; padding-top: 503px; margin-left: 365px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。
                                </div>
                                <div>
                                    synthesize時、synthesize関数(aws-cdk-lib/core/lib/private/synthesis.ts)が
                                </div>
                                <span style="text-align: center;">
                                    ObjectStructureとしての
                                </span>
                                <span style="background-color: initial;">
                                    Stackから順に、
                                </span>
                                IConstructから
                                <span style="background-color: initial;">
                                    Aspects経由でIAspect(Visitor)の一覧を取得して
                                </span>
                                VisitorがIConstructに
                                <span style="background-color: initial;">
                                    アクセスできるようにしている。
                                </span>
                                <span style="text-align: center;">
                                    <br/>
                                </span>
                                <div>
                                    synthesize
                                </div>
                                <div>
                                    -&gt;invokeAspects
                                </div>
                                <div>
                                    -&gt;recurse
                                </div>
                                <div>
                                    -&gt;Aspects.ofで取った自Constructに対応するaspectsでループ
                                </div>
                                <div>
                                    -&gt;aspect.visit
                                </div>
                                <div>
                                    -&gt;自Constructのnode.childrenでループ
                                </div>
                                <div>
                                    -&gt;recurse(子Constructごとに再起)
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="365" y="506" fill="#000000" font-family="Helvetica" font-size="12px">
                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。...
                </text>
            </switch>
        </g>
        <path d="M 606 117 L 606 205.76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 599.5 193.88 L 606 206.88 L 612.5 193.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 608px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                node.children
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="160" fill="#000000" font-family="Helvetica" font-size="11px">
                    node.children
                </text>
            </switch>
        </g>
        <path d="M 531 87 L 531 65 L 681 65 L 681 87" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 87 L 531 117 L 681 117 L 681 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 87 L 681 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="605.5" y="82.5">
                Stack
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 94px; margin-left: 537px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="537" y="106" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 531 110 L 681 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 238 80 L 238 60 L 435 60 L 435 80" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 238 80 L 238 122 L 435 122 L 435 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 238 80 L 435 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="336" y="77.5">
                VisitorStack
            </text>
        </g>
        <path d="M 238 84 L 435 84" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 95px; margin-left: 244px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="244" y="107" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 435 91 L 516.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 529.88 91 L 516.88 97.5 L 516.88 84.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 120.96 91 L 229.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 236.88 91 L 229.88 93.33 L 229.88 88.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 73.98 109.5 L 74 353 Q 74 363 76.44 363.05 L 78.88 363.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 85.88 363.27 L 78.83 365.44 L 78.94 360.78 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 27 92.5 L 27 72.5 L 120.96 72.5 L 120.96 92.5" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 27 92.5 L 27 109.5 L 120.96 109.5 L 120.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 27 92.5 L 120.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="73.48" y="90">
                Client(bin)
            </text>
        </g>
        <path d="M 27 96.5 L 120.96 96.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="493" y="0" width="226" height="45" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 23px; margin-left: 494px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                構造を保持するObjectStructureとして
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="606" y="26" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    構造を保持するObjectStructureとして
                </text>
            </switch>
        </g>
        <path d="M 606 45 L 606 65" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 116.58 109.5 L 321.16 198.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 325.97 200.42 L 318.16 200.84 L 321.16 198.33 L 320.95 194.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 475 233 L 522.88 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 529.88 233 L 522.88 235.33 L 522.88 230.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 233 L 268.62 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 261.62 233 L 268.62 230.67 L 268.62 235.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 213.5 L 327 190.5 L 475 190.5 L 475 213.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 213.5 L 327 275.5 L 475 275.5 L 475 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 213.5 L 475 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="400.5" y="208">
                Aspects
            </text>
        </g>
        <path d="M 327 217.5 L 475 217.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 229px; margin-left: 333px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    + of(scope: IConstruct)
                                </u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="333" y="241" fill="#000000" font-family="Helvetica" font-size="12px">
                    + of(scope: IConstruct)
                </text>
            </switch>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 256px; margin-left: 333px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + add(aspect: IAspect)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="333" y="268" fill="#000000" font-family="Helvetica" font-size="12px">
                    + add(aspect: IAspect)
                </text>
            </switch>
        </g>
        <path d="M 681 91 L 735 91 L 735 233 L 695.12 233" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 682.12 233 L 695.12 226.5 L 695.12 239.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="276" y="293" width="246" height="34" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 310px; margin-left: 277px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspectsが媒介として存在。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="399" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspect...
                </text>
            </switch>
        </g>
        <path d="M 399.9 275.5 L 399.44 293" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>