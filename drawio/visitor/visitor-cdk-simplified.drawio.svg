<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="812px" height="588px" viewBox="-0.5 -0.5 812 588" content="&lt;mxfile&gt;&lt;diagram id=&quot;9KW1ADvCEIuN-hiICIac&quot; name=&quot;cdk&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <rect x="116" y="2" width="70" height="30" fill="#ffff88" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 117px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                独自
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="151" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    独自
                </text>
            </switch>
        </g>
        <rect x="26" y="2" width="70" height="30" fill="#cce5ff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 27px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                CDK提供
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="61" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    CDK提供
                </text>
            </switch>
        </g>
        <path d="M 283 365.5 L 523.63 365.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 528.88 365.5 L 521.88 369 L 523.63 365.5 L 521.88 362 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 86 357 L 86 337 L 283 337 L 283 357" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 86 357 L 86 394 L 283 394 L 283 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 86 357 L 283 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="184" y="354.5">
                BucketVersioningChecker
            </text>
        </g>
        <path d="M 86 361 L 283 361" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 372px; margin-left: 92px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="92" y="384" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 184.5 337 L 184.5 275.62" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 184.5 262.62 L 191 275.62 L 178 275.62 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 109.5 227.5 L 109.5 204.5 L 259.5 204.5 L 259.5 227.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 109.5 227.5 L 109.5 261.5 L 259.5 261.5 L 259.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 109.5 227.5 L 259.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="184" y="222">
                IAspect
            </text>
        </g>
        <path d="M 109.5 231.5 L 259.5 231.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 243px; margin-left: 116px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <i>
                                    + visit(node: IConstruct)
                                </i>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="116" y="255" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruc...
                </text>
            </switch>
        </g>
        <path d="M 530 368.5 L 530 345.5 L 680 345.5 L 680 368.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 368.5 L 530 385.5 L 680 385.5 L 680 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 368.5 L 680 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="604.5" y="363">
                Bucket
            </text>
        </g>
        <path d="M 530 372.5 L 680 372.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 231 L 530 208 L 680 208 L 680 231" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 231 L 530 258 L 680 258 L 680 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 231 L 680 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="604.5" y="225.5">
                IConstruct
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 238px; margin-left: 536px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="536" y="250" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 530 254 L 680 254" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 605 345.5 L 605 272.12" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 605 259.12 L 611.5 272.12 L 598.5 272.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 180.38 417 L 182.22 394" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="0" y="417" width="349" height="147" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 347px; height: 1px; padding-top: 491px; margin-left: 2px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはない(いわゆるVisitorパターンで頻出するダブルディスパッチでない)が、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞ることにより、本質的にはVisitor概念と同義。
                                <br/>
                                <br/>
                                CDKのソースコード的にはsynthesize時に、Strategyパターンのニュアンスで自Constructに対応するIAspect配列をループして全visitメソッドを実行している(右コメント参照)。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="494" fill="#000000" font-family="Helvetica" font-size="12px">
                    引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはない(いわゆるVisitorパターンで頻出するダブルディスパッチでない)が、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞ることにより、本質的にはVisitor概念と同義。...
                </text>
            </switch>
        </g>
        <path d="M 597.45 417 L 602.07 385.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="359" y="417" width="452" height="170" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 450px; height: 1px; padding-top: 502px; margin-left: 361px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                synthesize時に(aws-cdk-lib/core/lib/private/synthesis.tsにて)、Stackのrootから
                                <br/>
                                synthesize
                                <br/>
                                -&gt;invokeAspects
                                <br/>
                                -&gt;recurse
                                <br/>
                                -&gt;Aspects.ofで取った自Constructに対応するaspectsでループ
                                <br/>
                                -&gt;aspect.visit
                                <br/>
                                -&gt;自Constructのnode.childrenでループ
                                <br/>
                                -&gt;recurse(子ごとに再起)
                                <br/>
                                というような呼び出し関係でVisitor(=Aspect)が呼ばれ、IConstruct, Bucket側にはacceptメソッドはない。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="361" y="506" fill="#000000" font-family="Helvetica" font-size="12px">
                    synthesize時に(aws-cdk-lib/core/lib/private/synthesis.tsにて)、Stackのrootから...
                </text>
            </switch>
        </g>
        <path d="M 605 132.99 L 605 205.76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 605 117.99 L 609.41 125.49 L 605 132.99 L 600.59 125.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 598.5 193.88 L 605 206.88 L 611.5 193.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 607px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                node.children
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="607" y="160" fill="#000000" font-family="Helvetica" font-size="11px">
                    node.children
                </text>
            </switch>
        </g>
        <path d="M 530 87 L 530 65 L 680 65 L 680 87" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 87 L 530 117 L 680 117 L 680 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 530 87 L 680 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="604.5" y="82.5">
                Stack
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 94px; margin-left: 536px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="536" y="106" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 530 110 L 680 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 237 80 L 237 60 L 434 60 L 434 80" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 237 80 L 237 122 L 434 122 L 434 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 237 80 L 434 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="335" y="77.5">
                VisitorStack
            </text>
        </g>
        <path d="M 237 84 L 434 84" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 95px; margin-left: 243px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="243" y="107" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 434 91 L 515.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 528.88 91 L 515.88 97.5 L 515.88 84.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 119.96 91 L 228.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 235.88 91 L 228.88 93.33 L 228.88 88.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 72.98 109.5 L 73 353 Q 73 363 75.44 363.05 L 77.88 363.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 84.88 363.27 L 77.83 365.44 L 77.94 360.78 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 26 92.5 L 26 72.5 L 119.96 72.5 L 119.96 92.5" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 26 92.5 L 26 109.5 L 119.96 109.5 L 119.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 26 92.5 L 119.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="72.48" y="90">
                Client(bin)
            </text>
        </g>
        <path d="M 26 96.5 L 119.96 96.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="492" y="0" width="226" height="45" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 23px; margin-left: 493px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                構造を保持するObjectStructureとして
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="605" y="26" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    構造を保持するObjectStructureとして
                </text>
            </switch>
        </g>
        <path d="M 605 45 L 605 65" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 115.58 109.5 L 320.16 198.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 324.97 200.42 L 317.16 200.84 L 320.16 198.33 L 319.95 194.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 474 233 L 521.88 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 528.88 233 L 521.88 235.33 L 521.88 230.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 326 233 L 267.62 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 260.62 233 L 267.62 230.67 L 267.62 235.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 326 213.5 L 326 190.5 L 474 190.5 L 474 213.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 326 213.5 L 326 275.5 L 474 275.5 L 474 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 326 213.5 L 474 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="399.5" y="208">
                Aspects
            </text>
        </g>
        <path d="M 326 217.5 L 474 217.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 229px; margin-left: 332px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    + of(scope: IConstruct)
                                </u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="332" y="241" fill="#000000" font-family="Helvetica" font-size="12px">
                    + of(scope: IConstruct)
                </text>
            </switch>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 256px; margin-left: 332px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + add(aspect: IAspect)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="332" y="268" fill="#000000" font-family="Helvetica" font-size="12px">
                    + add(aspect: IAspect)
                </text>
            </switch>
        </g>
        <path d="M 680 91 L 734 91 L 734 233 L 694.12 233" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 681.12 233 L 694.12 226.5 L 694.12 239.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="275" y="293" width="246" height="34" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 310px; margin-left: 276px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspectsが媒介として存在。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="398" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspect...
                </text>
            </switch>
        </g>
        <path d="M 398.9 275.5 L 398.44 293" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>