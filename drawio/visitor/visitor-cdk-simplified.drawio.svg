<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="819px" height="630px" viewBox="-0.5 -0.5 819 630" content="&lt;mxfile&gt;&lt;diagram id=&quot;9KW1ADvCEIuN-hiICIac&quot; name=&quot;cdk&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <rect x="122" y="2" width="70" height="30" fill="#ffff88" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 123px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                独自
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="157" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    独自
                </text>
            </switch>
        </g>
        <rect x="32" y="2" width="70" height="30" fill="#cce5ff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 33px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                CDK提供
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="67" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    CDK提供
                </text>
            </switch>
        </g>
        <path d="M 289 365.5 L 529.63 365.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 534.88 365.5 L 527.88 369 L 529.63 365.5 L 527.88 362 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 92 357 L 92 337 L 289 337 L 289 357" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 92 357 L 92 394 L 289 394 L 289 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 92 357 L 289 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="190" y="354.5">
                BucketVersioningChecker
            </text>
        </g>
        <path d="M 92 361 L 289 361" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 372px; margin-left: 98px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="98" y="384" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 190.5 337 L 190.5 275.62" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 190.5 262.62 L 197 275.62 L 184 275.62 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 115.5 227.5 L 115.5 204.5 L 265.5 204.5 L 265.5 227.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 115.5 227.5 L 115.5 261.5 L 265.5 261.5 L 265.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 115.5 227.5 L 265.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="190" y="222">
                IAspect
            </text>
        </g>
        <path d="M 115.5 231.5 L 265.5 231.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 243px; margin-left: 122px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <i>
                                    + visit(node: IConstruct)
                                </i>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="122" y="255" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruc...
                </text>
            </switch>
        </g>
        <path d="M 536 368.5 L 536 345.5 L 686 345.5 L 686 368.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 368.5 L 536 385.5 L 686 385.5 L 686 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 368.5 L 686 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="610.5" y="363">
                Bucket
            </text>
        </g>
        <path d="M 536 372.5 L 686 372.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 231 L 536 208 L 686 208 L 686 231" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 231 L 536 258 L 686 258 L 686 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 231 L 686 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="610.5" y="225.5">
                IConstruct
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 238px; margin-left: 542px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="542" y="250" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 536 254 L 686 254" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 611 345.5 L 611 272.12" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 611 259.12 L 617.5 272.12 L 604.5 272.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 181.28 434 L 186.67 394" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="0" y="434" width="351" height="86" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 349px; height: 1px; padding-top: 477px; margin-left: 2px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはないが、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞っていて、本質的にはVisitor概念と同義。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="481" fill="#000000" font-family="Helvetica" font-size="12px">
                    引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはないが、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞っていて、本質的にはVisitor概念と同義。
                </text>
            </switch>
        </g>
        <path d="M 604.47 407 L 607.85 385.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="356" y="407" width="462" height="222" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 460px; height: 1px; padding-top: 518px; margin-left: 358px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。
                                </div>
                                <div></div>
                                <span style="text-align: center;">
                                    <br/>
                                    synthesize時、synthesize関数(aws-cdk-lib/core/lib/private/synthesis.ts)内のrecurse関数で、ObjectStructureとしてのStack(ツリーのルート)から順に再起的に辿り、自身のIConstructからAspects経由でIAspect(Visitor)の一覧を取得してVisitorがIConstructにアクセスできるようにしている。
                                    <br/>
                                </span>
                                <div>
                                    synthesize
                                </div>
                                <div>
                                    -&gt;invokeAspects
                                </div>
                                <div>
                                    -&gt;recurse
                                </div>
                                <div>
                                    -&gt;Aspects.ofで取った自Constructに対応するaspectsでループ
                                </div>
                                <div>
                                    -&gt;aspect.visit
                                </div>
                                <div>
                                    -&gt;自Constructのnode.childrenでループ
                                </div>
                                <div>
                                    -&gt;recurse(子Constructごとに再起)
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="358" y="522" fill="#000000" font-family="Helvetica" font-size="12px">
                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。...
                </text>
            </switch>
        </g>
        <path d="M 611 117 L 611 205.76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 604.5 193.88 L 611 206.88 L 617.5 193.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 613px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                node.children
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="613" y="160" fill="#000000" font-family="Helvetica" font-size="11px">
                    node.children
                </text>
            </switch>
        </g>
        <path d="M 536 87 L 536 65 L 686 65 L 686 87" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 87 L 536 117 L 686 117 L 686 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 536 87 L 686 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="610.5" y="82.5">
                Stack
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 94px; margin-left: 542px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="542" y="106" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 536 110 L 686 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 243 80 L 243 60 L 440 60 L 440 80" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 243 80 L 243 122 L 440 122 L 440 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 243 80 L 440 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="341" y="77.5">
                VisitorStack
            </text>
        </g>
        <path d="M 243 84 L 440 84" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 95px; margin-left: 249px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="249" y="107" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 440 91 L 521.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 534.88 91 L 521.88 97.5 L 521.88 84.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 125.96 91 L 234.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 241.88 91 L 234.88 93.33 L 234.88 88.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 78.98 109.5 L 79 353 Q 79 363 81.44 363.05 L 83.88 363.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 90.88 363.27 L 83.83 365.44 L 83.94 360.78 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 32 92.5 L 32 72.5 L 125.96 72.5 L 125.96 92.5" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 32 92.5 L 32 109.5 L 125.96 109.5 L 125.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 32 92.5 L 125.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="78.48" y="90">
                Client(bin)
            </text>
        </g>
        <path d="M 32 96.5 L 125.96 96.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="498" y="0" width="226" height="45" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 23px; margin-left: 499px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                構造を保持するObjectStructureとして
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="611" y="26" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    構造を保持するObjectStructureとして
                </text>
            </switch>
        </g>
        <path d="M 611 45 L 611 65" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 121.58 109.5 L 326.16 198.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 330.97 200.42 L 323.16 200.84 L 326.16 198.33 L 325.95 194.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 480 233 L 527.88 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 534.88 233 L 527.88 235.33 L 527.88 230.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 332 233 L 273.62 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 266.62 233 L 273.62 230.67 L 273.62 235.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 332 213.5 L 332 190.5 L 480 190.5 L 480 213.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 332 213.5 L 332 275.5 L 480 275.5 L 480 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 332 213.5 L 480 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="405.5" y="208">
                Aspects
            </text>
        </g>
        <path d="M 332 217.5 L 480 217.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 229px; margin-left: 338px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    + of(scope: IConstruct)
                                </u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="338" y="241" fill="#000000" font-family="Helvetica" font-size="12px">
                    + of(scope: IConstruct)
                </text>
            </switch>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 256px; margin-left: 338px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + add(aspect: IAspect)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="338" y="268" fill="#000000" font-family="Helvetica" font-size="12px">
                    + add(aspect: IAspect)
                </text>
            </switch>
        </g>
        <path d="M 686 91 L 740 91 L 740 233 L 700.12 233" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 687.12 233 L 700.12 226.5 L 700.12 239.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="281" y="293" width="246" height="34" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 310px; margin-left: 282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspectsが媒介として存在。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="404" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspect...
                </text>
            </switch>
        </g>
        <path d="M 404.9 275.5 L 404.44 293" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>