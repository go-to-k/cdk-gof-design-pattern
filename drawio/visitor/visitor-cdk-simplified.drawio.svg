<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="816px" height="602px" viewBox="-0.5 -0.5 816 602" content="&lt;mxfile&gt;&lt;diagram id=&quot;9KW1ADvCEIuN-hiICIac&quot; name=&quot;cdk&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <rect x="117" y="2" width="70" height="30" fill="#ffff88" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 118px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                独自
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="152" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    独自
                </text>
            </switch>
        </g>
        <rect x="27" y="2" width="70" height="30" fill="#cce5ff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 28px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                CDK提供
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="62" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    CDK提供
                </text>
            </switch>
        </g>
        <path d="M 284 365.5 L 524.63 365.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 529.88 365.5 L 522.88 369 L 524.63 365.5 L 522.88 362 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 87 357 L 87 337 L 284 337 L 284 357" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 87 357 L 87 394 L 284 394 L 284 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 87 357 L 284 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="185" y="354.5">
                BucketVersioningChecker
            </text>
        </g>
        <path d="M 87 361 L 284 361" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 372px; margin-left: 93px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="93" y="384" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 185.5 337 L 185.5 275.62" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 185.5 262.62 L 192 275.62 L 179 275.62 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 110.5 227.5 L 110.5 204.5 L 260.5 204.5 L 260.5 227.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 110.5 227.5 L 110.5 261.5 L 260.5 261.5 L 260.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 110.5 227.5 L 260.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="185" y="222">
                IAspect
            </text>
        </g>
        <path d="M 110.5 231.5 L 260.5 231.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 243px; margin-left: 117px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <i>
                                    + visit(node: IConstruct)
                                </i>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="117" y="255" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruc...
                </text>
            </switch>
        </g>
        <path d="M 531 368.5 L 531 345.5 L 681 345.5 L 681 368.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 368.5 L 531 385.5 L 681 385.5 L 681 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 368.5 L 681 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="605.5" y="363">
                Bucket
            </text>
        </g>
        <path d="M 531 372.5 L 681 372.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 231 L 531 208 L 681 208 L 681 231" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 231 L 531 258 L 681 258 L 681 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 231 L 681 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="605.5" y="225.5">
                IConstruct
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 238px; margin-left: 537px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="537" y="250" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 531 254 L 681 254" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 606 345.5 L 606 272.12" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 606 259.12 L 612.5 272.12 L 599.5 272.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 179.74 424 L 182.69 394" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="0" y="424" width="351" height="86" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 349px; height: 1px; padding-top: 467px; margin-left: 2px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはないが、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞っていて、本質的にはVisitor概念と同義。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="471" fill="#000000" font-family="Helvetica" font-size="12px">
                    引数の型が抽象で、具象な操作対象の型ごとの引数のメソッドはないが、visitメソッドの最初で`if (node instanceof CfnBucket)`という単一ディスパッチによる分岐で操作対象のオブジェクトに絞っていて、本質的にはVisitor概念と同義。
                </text>
            </switch>
        </g>
        <path d="M 601.22 404 L 603.52 385.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="363" y="404" width="452" height="197" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 450px; height: 1px; padding-top: 503px; margin-left: 365px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。
                                </div>
                                <div>
                                    synthesize時、synthesize関数(aws-cdk-lib/core/lib/private/synthesis.ts)が
                                </div>
                                <span style="text-align: center;">
                                    ObjectStructureとしての
                                </span>
                                <span style="background-color: initial;">
                                    Stackから順に、
                                </span>
                                IConstructから
                                <span style="background-color: initial;">
                                    Aspects経由でIAspect(Visitor)の一覧を取得して
                                </span>
                                VisitorがIConstructに
                                <span style="background-color: initial;">
                                    アクセスできるようにしている。
                                </span>
                                <span style="text-align: center;">
                                    <br/>
                                </span>
                                <div>
                                    synthesize
                                </div>
                                <div>
                                    -&gt;invokeAspects
                                </div>
                                <div>
                                    -&gt;recurse
                                </div>
                                <div>
                                    -&gt;Aspects.ofで取った自Constructに対応するaspectsでループ
                                </div>
                                <div>
                                    -&gt;aspect.visit
                                </div>
                                <div>
                                    -&gt;自Constructのnode.childrenでループ
                                </div>
                                <div>
                                    -&gt;recurse(子ごとに再起)
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="365" y="506" fill="#000000" font-family="Helvetica" font-size="12px">
                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。...
                </text>
            </switch>
        </g>
        <path d="M 606 132.99 L 606 205.76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 606 117.99 L 610.41 125.49 L 606 132.99 L 601.59 125.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 599.5 193.88 L 606 206.88 L 612.5 193.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 608px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                node.children
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="160" fill="#000000" font-family="Helvetica" font-size="11px">
                    node.children
                </text>
            </switch>
        </g>
        <path d="M 531 87 L 531 65 L 681 65 L 681 87" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 87 L 531 117 L 681 117 L 681 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 531 87 L 681 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="605.5" y="82.5">
                Stack
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 94px; margin-left: 537px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="537" y="106" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 531 110 L 681 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 238 80 L 238 60 L 435 60 L 435 80" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 238 80 L 238 122 L 435 122 L 435 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 238 80 L 435 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="336" y="77.5">
                VisitorStack
            </text>
        </g>
        <path d="M 238 84 L 435 84" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 95px; margin-left: 244px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="244" y="107" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 435 91 L 516.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 529.88 91 L 516.88 97.5 L 516.88 84.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 120.96 91 L 229.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 236.88 91 L 229.88 93.33 L 229.88 88.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 73.98 109.5 L 74 353 Q 74 363 76.44 363.05 L 78.88 363.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 85.88 363.27 L 78.83 365.44 L 78.94 360.78 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 27 92.5 L 27 72.5 L 120.96 72.5 L 120.96 92.5" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 27 92.5 L 27 109.5 L 120.96 109.5 L 120.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 27 92.5 L 120.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="73.48" y="90">
                Client(bin)
            </text>
        </g>
        <path d="M 27 96.5 L 120.96 96.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="493" y="0" width="226" height="45" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 23px; margin-left: 494px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                構造を保持するObjectStructureとして
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="606" y="26" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    構造を保持するObjectStructureとして
                </text>
            </switch>
        </g>
        <path d="M 606 45 L 606 65" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 116.58 109.5 L 321.16 198.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 325.97 200.42 L 318.16 200.84 L 321.16 198.33 L 320.95 194.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 475 233 L 522.88 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 529.88 233 L 522.88 235.33 L 522.88 230.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 233 L 268.62 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 261.62 233 L 268.62 230.67 L 268.62 235.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 213.5 L 327 190.5 L 475 190.5 L 475 213.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 213.5 L 327 275.5 L 475 275.5 L 475 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 327 213.5 L 475 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="400.5" y="208">
                Aspects
            </text>
        </g>
        <path d="M 327 217.5 L 475 217.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 229px; margin-left: 333px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    + of(scope: IConstruct)
                                </u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="333" y="241" fill="#000000" font-family="Helvetica" font-size="12px">
                    + of(scope: IConstruct)
                </text>
            </switch>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 256px; margin-left: 333px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + add(aspect: IAspect)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="333" y="268" fill="#000000" font-family="Helvetica" font-size="12px">
                    + add(aspect: IAspect)
                </text>
            </switch>
        </g>
        <path d="M 681 91 L 735 91 L 735 233 L 695.12 233" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 682.12 233 L 695.12 226.5 L 695.12 239.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="276" y="293" width="246" height="34" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 310px; margin-left: 277px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspectsが媒介として存在。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="399" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspect...
                </text>
            </switch>
        </g>
        <path d="M 399.9 275.5 L 399.44 293" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>