<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="825px" height="620px" viewBox="-0.5 -0.5 825 620" content="&lt;mxfile&gt;&lt;diagram id=&quot;9KW1ADvCEIuN-hiICIac&quot; name=&quot;cdk&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <rect x="125" y="2" width="70" height="30" fill="#ffff88" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 126px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                独自
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="160" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    独自
                </text>
            </switch>
        </g>
        <rect x="35" y="2" width="70" height="30" fill="#cce5ff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 17px; margin-left: 36px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                CDK提供
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="70" y="21" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    CDK提供
                </text>
            </switch>
        </g>
        <path d="M 292 365.5 L 532.63 365.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 537.88 365.5 L 530.88 369 L 532.63 365.5 L 530.88 362 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 95 357 L 95 337 L 292 337 L 292 357" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 95 357 L 95 394 L 292 394 L 292 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 95 357 L 292 357" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="193" y="354.5">
                BucketVersioningChecker
            </text>
        </g>
        <path d="M 95 361 L 292 361" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 372px; margin-left: 101px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="101" y="384" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 193.5 337 L 193.5 275.62" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 193.5 262.62 L 200 275.62 L 187 275.62 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 118.5 227.5 L 118.5 204.5 L 268.5 204.5 L 268.5 227.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 118.5 227.5 L 118.5 261.5 L 268.5 261.5 L 268.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 118.5 227.5 L 268.5 227.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="193" y="222">
                IAspect
            </text>
        </g>
        <path d="M 118.5 231.5 L 268.5 231.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 243px; margin-left: 125px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <i>
                                    + visit(node: IConstruct)
                                </i>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="125" y="255" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruc...
                </text>
            </switch>
        </g>
        <path d="M 539 368.5 L 539 345.5 L 689 345.5 L 689 368.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 368.5 L 539 385.5 L 689 385.5 L 689 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 368.5 L 689 368.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="613.5" y="363">
                Bucket
            </text>
        </g>
        <path d="M 539 372.5 L 689 372.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 231 L 539 208 L 689 208 L 689 231" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 231 L 539 258 L 689 258 L 689 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 231 L 689 231" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="613.5" y="225.5">
                IConstruct
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 238px; margin-left: 545px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="545" y="250" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 539 254 L 689 254" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 614 345.5 L 614 272.12" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 614 259.12 L 620.5 272.12 L 607.5 272.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 185.64 452 L 190.91 394" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="0" y="452" width="360" height="124" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 514px; margin-left: 2px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                ダブルディスパッチによる具象な操作対象の型ごとの引数の
                                <br/>
                                メソッドはなく、visitメソッドの最初で`if (node instanceof CfnBucket)`による分岐で操作対象のオブジェクトに絞っていて、それをCDK内部としては本質的にVisitorパターンと見なしている。
                                <br/>
                                (全IConstructに対応するダブルディスパッチは量の問題で現実的に不可能でもある)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="518" fill="#000000" font-family="Helvetica" font-size="12px">
                    ダブルディスパッチによる具象な操作対象の型ごとの引数のメソッドはなく、visitメソッドの最初で`if (node instanceof CfnBucket)`による分岐で操作対象のオブジェクトに絞っていて、それをCDK内部としては本質的にVisitorパターンと見なしている。...
                </text>
            </switch>
        </g>
        <path d="M 609.36 397 L 611.05 385.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <rect x="362" y="397" width="462" height="222" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 460px; height: 1px; padding-top: 508px; margin-left: 364px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。
                                </div>
                                <div></div>
                                <span style="text-align: center;">
                                    <br/>
                                    synthesize時、synthesize関数(aws-cdk-lib/core/lib/private/synthesis.ts)内のrecurse
                                    <br/>
                                    関数で、ObjectStructureとしてのStack(ツリーのルート)から順に再起的に辿り、
                                    <br/>
                                    自身のIConstructからAspects経由でIAspect(Visitor)の一覧を取得してVisitorがIConstructにアクセスできるようにしている。
                                    <br/>
                                    <br/>
                                </span>
                                <div>
                                    synthesize
                                </div>
                                <div>
                                    ----&gt;invokeAspects
                                </div>
                                <div>
                                    --------&gt;recurse
                                </div>
                                <div>
                                    ------------&gt;Aspects.ofで取った自Constructに対応するaspectsでループ
                                </div>
                                <div>
                                    ------------&gt;aspect.visit
                                </div>
                                <div>
                                    -------&gt;自Constructのnode.childrenでループ
                                </div>
                                <div>
                                    ---------&gt;recurse(子Constructごとに再起)
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="364" y="512" fill="#000000" font-family="Helvetica" font-size="12px">
                    ダブルディスパッチでなく、IConstruct, Bucket側には自分自身(this)をVisitorに渡すacceptメソッドはない。...
                </text>
            </switch>
        </g>
        <path d="M 614 117 L 614 205.76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 607.5 193.88 L 614 206.88 L 620.5 193.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 616px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                node.children
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="616" y="160" fill="#000000" font-family="Helvetica" font-size="11px">
                    node.children
                </text>
            </switch>
        </g>
        <path d="M 539 87 L 539 65 L 689 65 L 689 87" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 87 L 539 117 L 689 117 L 689 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 539 87 L 689 87" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="613.5" y="82.5">
                Stack
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 140px; height: 1px; padding-top: 94px; margin-left: 545px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + node: Node
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="545" y="106" fill="#000000" font-family="Helvetica" font-size="12px">
                    + node: Node
                </text>
            </switch>
        </g>
        <path d="M 539 110 L 689 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 246 80 L 246 60 L 443 60 L 443 80" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 246 80 L 246 122 L 443 122 L 443 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 246 80 L 443 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="344" y="77.5">
                VisitorStack
            </text>
        </g>
        <path d="M 246 84 L 443 84" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 187px; height: 1px; padding-top: 95px; margin-left: 252px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 15px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + visit(node: IConstruct)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="252" y="107" fill="#000000" font-family="Helvetica" font-size="12px">
                    + visit(node: IConstruct)
                </text>
            </switch>
        </g>
        <path d="M 443 91 L 524.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 537.88 91 L 524.88 97.5 L 524.88 84.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 128.96 91 L 237.88 91" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 244.88 91 L 237.88 93.33 L 237.88 88.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 81.98 109.5 L 82 353 Q 82 363 84.44 363.05 L 86.88 363.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 93.88 363.27 L 86.83 365.44 L 86.94 360.78 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 35 92.5 L 35 72.5 L 128.96 72.5 L 128.96 92.5" fill="#ffff88" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 35 92.5 L 35 109.5 L 128.96 109.5 L 128.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 35 92.5 L 128.96 92.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="81.48" y="90">
                Client(bin)
            </text>
        </g>
        <path d="M 35 96.5 L 128.96 96.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="501" y="0" width="226" height="45" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 23px; margin-left: 502px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                構造を保持するObjectStructureとして
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="614" y="26" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    構造を保持するObjectStructureとして
                </text>
            </switch>
        </g>
        <path d="M 614 45 L 614 65" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 124.58 109.5 L 329.16 198.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 333.97 200.42 L 326.16 200.84 L 329.16 198.33 L 328.95 194.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 483 233 L 530.88 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 537.88 233 L 530.88 235.33 L 530.88 230.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 335 233 L 276.62 233" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 269.62 233 L 276.62 230.67 L 276.62 235.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 335 213.5 L 335 190.5 L 483 190.5 L 483 213.5" fill="#cce5ff" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 335 213.5 L 335 275.5 L 483 275.5 L 483 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 335 213.5 L 483 213.5" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="408.5" y="208">
                Aspects
            </text>
        </g>
        <path d="M 335 217.5 L 483 217.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 229px; margin-left: 341px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    + of(scope: IConstruct)
                                </u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="341" y="241" fill="#000000" font-family="Helvetica" font-size="12px">
                    + of(scope: IConstruct)
                </text>
            </switch>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 256px; margin-left: 341px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 23px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                + add(aspect: IAspect)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="341" y="268" fill="#000000" font-family="Helvetica" font-size="12px">
                    + add(aspect: IAspect)
                </text>
            </switch>
        </g>
        <path d="M 689 91 L 743 91 L 743 233 L 703.12 233" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 690.12 233 L 703.12 226.5 L 703.12 239.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="284" y="293" width="246" height="34" fill="#fff2cc" stroke="#000000" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 310px; margin-left: 285px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspectsが媒介として存在。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="407" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Element(IConstruct)がVisitor(IAspect)を直接呼ばず、Aspect...
                </text>
            </switch>
        </g>
        <path d="M 407.9 275.5 L 407.44 293" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>